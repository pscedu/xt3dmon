$Id$

reminders:
- recompile GL lists as minimally as possible
- add more info to the status panel
- clean up includes in files that do not need them
- fewer globals
- remove/split up mon.h
- ensure all 'struct fill' locals get memset(0) now
- don't use continue/break/etc. in WIREP/NODE_FOREACH
- dont use RF_INIT except in main.c
- remove some size_t's (pointer sizes)
- delint
- ensure nothing modifies st.st_opt and uses opt_flip() instead

maybe not:
- keybinding to enable rebuild flags
- move the id into ohp instead of maintaing separate vars
- (server mode) sigcatch USR1 to reload datasrc and pkill in cron
- flyby_writecam() 'camera moved' frame -> set RF_CAM?
- compile node/nodeclass draw lists?
- default the logid goto user input buffer to selnode
- kill nselnodes (if SLIST_EMPTY())

bs
- make selnode drawing respect n_curv
- add arg to getcol() to set the texids
- function to do rebuild option diffs
- (server mode) use overlay display cleanup of damaged glut win in
  generated screenshots

todo
- tourjob mode - use captions
- try #define __inline to see if it does anything
- poll data files for when to refresh instead of blind refresh
- provide if-modified-since in http headers to avoid extra work on
- divide color wheel among all modes (free/down/disabled/etc)
  and probably keep these the same always
- cache the current selected stuff to check for short circuiting --
  if it follows the cursor, this should save on small movements
- find some way to alloc wi sel steps once
- in wione, draw the cube outer planes first, then inner, so gl
  tries to optimize
- handle SIGPIPES in server mode (png_write when client disconnects/timeouts)
- datasrc refresh code checks if the file is diff, so maybe the
  cronjob should check too?
- dsc chdir to avoid races
- show other things in the queue (other pbs queues)
- support variable font widths/antialiased fonts
- draw_node, if (!show) n_curv = *v
- replace WIDIM_WIDTH, ... with widim.iv_[whd]
- check that the server dsc-copies fresh data in case data is no
  longer automatically refreshing itself
- add recursive check to gl_run() to protect against that kind of
  invocation
  update intervals when no new data is available/check for new data
- fix crash when revolve position = st.st_v
- make select node glow/fade color?
- use a different font.png for matrix egg (katonese chars)
- kill PIF_XPARENT and just set fill differently
- implement FF_OPAQUE everywhere
- watch out for server mode, dmode=temp then setting hl=free
- finish send-command-to-login-node-panel
- merge gl and env files?
- bring back option for SEL_GAP things
- add flag to NODE_FOREACH for wired/physical ordered traversal (fix phys alpha problem)
- add panel reporting when new data is available
- vec_rotate() is busted for large amounts
- on macos, fix node labels on solid node colors from distances
- rename NODEWIDTH/HEIGHT/DEPTH cause its phys-only
- kill job_findbyid, just use obj_get with a flag that prevents creation
- make job searching bsearch again, since it is sorted
- add subtitle for when machine down
- add cam_refocus() and factor the code out of cam_revolve()
- add "extended help" panel -- contents description get updated on each item moused over
- modify the pipe code to determine absolute points based on
	(node->n_wiv + wioff) * winsp
  instead of using node->n_v at all
	- disadvantage: won't work when nodes are moving
- need a way in the script files to report a problem with the
  data fetch script cannot do there job -- when getting data fails,
  set_caption("ssh connection to phantom prohibited?") won't work,
  but we got to say something (in the data files)
- add a caption timer to prevent captions from being changed so
  often that they flicker (in the case during a reel playback, e.g.)
- make the focus point an SLIST
- replace spkeys with retrieval/cache function
- use epoll to in server to avoid many sleep wakeups
- check dsc_clone to ensure that a new file is created even if master
  is empty (open() ... close() with no intervening write())
- when the xtwmon server is down, it still creates session files,
  whereas the xt3dmon server is unable, creating the anomaly of
  no files
- rename POPT_REFRESH to POPT_REDRAW, POPT_DIRTY to POPT_REBUILD
- moving the cursor should not cause panel recompiles
- update libpng/libz on win32
- use buf.c routines in base64 routines instead of bufsize guesswork
- rename phys.conf to mach.conf

xtwmon
- rename arbiter-raw.pl?data=nodes to data=node

tweening
- fix tween to real stack: once point is reached, pop it then move on
- increase tween limit when fps is high, or when "stack" contains many layers
- use vec_rotate() instead of fractional values for up/look when spinning around
	- ensure tweening leaves normalized vectors
- make a tween stack of like 30 states
- for tweening, calculate the % moved by one (e.g. move), then apply
  that % to the others, instead of use MAX_{LOOK,TWEEN} values
